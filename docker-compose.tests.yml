# overrides for running tests

services:

  conformance_test:
    build: ./docker/conformance-tests
    volumes:
      - ./_test_outputs:/build/run/output
      - ./docker/conformance-tests/test-run-props.xml:/build/run/test-run-props.xml
    profiles:
      - testing

  integration_tests:
    image: opengisch/qgis:latest
    command: sh -c 'xvfb-run python3 -m unittest discover'
    tty: true
    volumes:
      - ./docker/integration-tests:/integration-tests
    working_dir: /integration-tests
    profiles:
      - testing
